<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>Granos</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<!-- Font Awesome -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css"
	rel="stylesheet">
<!-- Libraries Stylesheet -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link href="lib/owlcarousel/assets/owl.carousel.min.css"
	rel="stylesheet">
<link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
<style>
.fc-multimonth-multicol .fc-daygrid-more-link {
	background-color: #3788d8;
}

.fc-more-link {
	color: white;
}

.fc-event-title {
	white-space: normal !important; /* 强制换行 */
	word-wrap: break-word; /* 长单词换行 */
}
</style>
<!-- Customized Bootstrap Stylesheet -->
<link href="css/style.css" rel="stylesheet">
<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src='lib/fullcalendar/core/index.global.min.js'></script>
<script src='lib/fullcalendar/daygrid/index.global.min.js'></script>
<script src="lib/fullcalendar/multimonth/index.global.min.js"></script>
<!--<script src="https://code.jquery.com/jquery-3.4.1.js"></script>-->
<script>
    const currentYear = new Date().getFullYear();
    $(document).ready(function() {
        var calendarEl = $('#calendar')[0]; // jQuery returns an array, so we need the first element for FullCalendar
        var calendar = new FullCalendar.Calendar(calendarEl, {
        	height: 'auto',
            timeZone: 'local',
            initialView: 'multiMonthYear',
            editable: false,
            validRange: {
                start: (currentYear-1) + '-01-01',
                end: (currentYear+2) + '-01-01' // currentYear + 1 + 1 simplified to +2
            },
            headerToolbar: {
                left: '', // Empty string means no content on the left side
                center: 'title', // Title centered
                right: 'today prev,next' // Controls on the right side
            },
            events: '/getTwCalendar'
        });
        calendar.render();
    });
    </script>
</head>
<body>
	<!-- Navbar Start -->
	<div class="container-fluid bg-white position-relative">
		<nav
			class="navbar navbar-expand-lg bg-white navbar-light py-3 py-lg-0">
			<a href="index" class="navbar-brand text-secondary">
				<h1 class="display-4 ">
					<span>G</span><span style="color: #ffcc00;">r</span><span>anos</span>
				</h1>
			</a>
			<button type="button" class="navbar-toggler"
				data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarCollapse">
				<div class="navbar-nav ml-auto py-0 pr-3">
					<a href="home" class="nav-item nav-link" th:text="#{home}">Home</a> <a
						href="calendar" class="nav-item nav-link active" th:text="#{calendar}">Calendar</a> <a
						href="attendance" class="nav-item nav-link" th:text="#{attendance}">Attendance</a> <a
						href="payroll" class="nav-item nav-link" th:text="#{payroll}">Payroll</a> <a
						href="balances" class="nav-item nav-link" th:text="#{balances}">Balances</a> <a
						href="administrator" class="nav-item nav-link circle-background"
						th:classappend="${user.jobId != 1} ? 'disabled'"> <span
						class="border border-warning rounded-lg p-3"
						th:text="${user.character.nameEn}"></span>
					</a> <a href="logout" class="nav-item nav-link" th:text="#{logout}">Logout</a>
				</div>
			</div>
		</nav>
	</div>
	<!-- Navbar End -->
	<div class="container-fluid py-4">
		<div id='calendar'></div>
	</div>
	<!-- JavaScript Libraries -->
	<!--===============================================================================================-->
	<script src="lib/easing/easing.min.js"></script>
	<script src="lib/waypoints/waypoints.min.js"></script>
	<script src="lib/owlcarousel/owl.carousel.min.js"></script>
	<script src="lib/isotope/isotope.pkgd.min.js"></script>
	<script src="lib/lightbox/js/lightbox.min.js"></script>


	<!-- Template Javascript -->
	<script src="js/main.js"></script>
</body>
</html>